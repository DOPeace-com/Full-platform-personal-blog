{"ast":null,"code":"import Main_menu from '@/components/menus/Main_menu';\nimport iconPath from 'bootstrap-icons/bootstrap-icons.svg';\nimport bus from \"@/util/Bus\";\nexport default {\n  name: 'MyHeader',\n  components: {\n    Main_menu\n  },\n\n  data() {\n    return {\n      smallView: false,\n      fontFile: require('@/json/zh-CN_font.json'),\n      iconPath,\n      windowsWidth: document.body.clientWidth\n    };\n  },\n\n  computed: {\n    fontlanguage: {\n      get(val) {\n        return val;\n      },\n\n      set(val) {\n        this.fontFile = require('@/json/' + val + '_font.json');\n        this.sendFontFile();\n      }\n\n    }\n  },\n\n  created() {\n    /*监听语言切换*/\n    this.setLanguage();\n    /*判断用户历史切换*/\n\n    var userLanguage = localStorage.getItem(\"UserLanguage\") ? true : false;\n\n    if (userLanguage) {\n      this.fontlanguage = localStorage.getItem(\"UserLanguage\");\n    }\n  },\n\n  mounted() {\n    const _this = this; //监听window.body\n\n\n    window.onresize = () => {\n      _this.windowsWidth = document.body.clientWidth;\n      this.sendWidnowWidth();\n    };\n    /*广播默认的语言*/\n\n\n    this.sendFontFile();\n  },\n\n  methods: {\n    /*\r\n    * 将使用的文字语言发送到Bus总线上\r\n    * */\n    sendFontFile() {\n      bus.emit('getFontFile', this.fontFile);\n    },\n\n    /*\r\n    * 接收语言切换方法\r\n    * */\n    setLanguage() {\n      const _this = this;\n\n      bus.on('setLanguage', val => {\n        _this.fontlanguage = val;\n        localStorage.setItem(\"UserLanguage\", val);\n      });\n    },\n\n    /*\r\n    * 发送屏幕大小\r\n    * */\n    sendWidnowWidth() {\n      bus.emit('getWindwoWidth', this.windowsWidth);\n    },\n\n    /*\r\n    * 发送SmallView的显示与控制\r\n    * */\n    sendSmallView(val) {\n      bus.emit('setSmallVirw', val);\n      this.smallView = !this.smallView;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA,OAAOA,SAAP,MAAsB,8BAAtB;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AAEA,eAAe;EACbC,IAAI,EAAE,UADO;EAEbC,UAAU,EAAC;IACTJ;EADS,CAFE;;EAKbK,IAAI,GAAE;IACJ,OAAO;MACLC,SAAS,EAAC,KADL;MAELC,QAAQ,EAACC,OAAO,CAAC,wBAAD,CAFX;MAGLP,QAHK;MAILQ,YAAY,EAACC,QAAQ,CAACC,IAAT,CAAcC;IAJtB,CAAP;EAMD,CAZY;;EAabC,QAAQ,EAAC;IACPC,YAAY,EAAC;MACXC,GAAG,CAACC,GAAD,EAAK;QACN,OAAOA,GAAP;MACD,CAHU;;MAIXC,GAAG,CAACD,GAAD,EAAK;QACN,KAAKT,QAAL,GAAgBC,OAAO,CAAC,YAAUQ,GAAV,GAAc,YAAf,CAAvB;QACA,KAAKE,YAAL;MACF;;IAPW;EADN,CAbI;;EAwBbC,OAAO,GAAG;IACR;IACA,KAAKC,WAAL;IACA;;IACA,IAAIC,YAAW,GAAIC,YAAY,CAACC,OAAb,CAAqB,cAArB,IAAqC,IAArC,GAA0C,KAA7D;;IACA,IAAIF,YAAJ,EAAiB;MACf,KAAKP,YAAL,GAAoBQ,YAAY,CAACC,OAAb,CAAqB,cAArB,CAApB;IACF;EACD,CAhCY;;EAiCbC,OAAO,GAAE;IACP,MAAMC,KAAI,GAAI,IAAd,CADO,CAEP;;;IACAC,MAAM,CAACC,QAAP,GAAkB,MAAM;MACtBF,KAAK,CAAChB,YAAN,GAAqBC,QAAQ,CAACC,IAAT,CAAcC,WAAnC;MACA,KAAKgB,eAAL;IACF,CAHA;IAIA;;;IACA,KAAKV,YAAL;EACD,CA1CY;;EA2CbW,OAAO,EAAC;IACN;;;IAGAX,YAAY,GAAE;MACZhB,GAAG,CAAC4B,IAAJ,CAAS,aAAT,EAAuB,KAAKvB,QAA5B;IACD,CANK;;IAON;;;IAGAa,WAAW,GAAE;MACX,MAAMK,KAAI,GAAI,IAAd;;MACAvB,GAAG,CAAC6B,EAAJ,CAAO,aAAP,EAAsBf,GAAD,IAAO;QAC1BS,KAAK,CAACX,YAAN,GAAqBE,GAArB;QACAM,YAAY,CAACU,OAAb,CAAqB,cAArB,EAAoChB,GAApC;MACD,CAHD;IAID,CAhBK;;IAiBN;;;IAGAY,eAAe,GAAE;MACf1B,GAAG,CAAC4B,IAAJ,CAAS,gBAAT,EAA0B,KAAKrB,YAA/B;IACD,CAtBK;;IAuBN;;;IAGAwB,aAAa,CAACjB,GAAD,EAAK;MAChBd,GAAG,CAAC4B,IAAJ,CAAS,cAAT,EAAwBd,GAAxB;MACA,KAAKV,SAAL,GAAiB,CAAC,KAAKA,SAAvB;IACF;;EA7BM;AA3CK,CAAf","names":["Main_menu","iconPath","bus","name","components","data","smallView","fontFile","require","windowsWidth","document","body","clientWidth","computed","fontlanguage","get","val","set","sendFontFile","created","setLanguage","userLanguage","localStorage","getItem","mounted","_this","window","onresize","sendWidnowWidth","methods","emit","on","setItem","sendSmallView"],"sourceRoot":"","sources":["C:\\Users\\章和平\\Documents\\DOP\\eqmonntion\\src\\components\\MyHeader.vue"],"sourcesContent":["<template >\r\n  <div id=\"MyHeader\">\r\n    <div class=\"type-area\">\r\n      <div id=\"login\">\r\n        <img class=\"logoImg\" src=\"../assets/logo.png\" ondragstart @click=\"sendSmallView(true)\">\r\n      </div>\r\n      <div class=\"MaxMenu\">\r\n        <Main_menu/>\r\n      </div>\r\n      <h1 style=\"display:inline-block;\">{{fontFile.WebName}}</h1>\r\n      <!--This is the burger menu on a small screen-->\r\n      <svg class=\"bi-three-dots-vertical\" fill=\"currentColor\" >\r\n        <use :xlink:href=\"iconPath+'#three-dots-vertical'\" />\r\n      </svg>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Main_menu from '@/components/menus/Main_menu'\r\nimport iconPath from 'bootstrap-icons/bootstrap-icons.svg'\r\nimport bus from \"@/util/Bus\";\r\n\r\nexport default {\r\n  name: 'MyHeader',\r\n  components:{\r\n    Main_menu\r\n  },\r\n  data(){\r\n    return {\r\n      smallView:false,\r\n      fontFile:require('@/json/zh-CN_font.json'),\r\n      iconPath,\r\n      windowsWidth:document.body.clientWidth\r\n    }\r\n  },\r\n  computed:{\r\n    fontlanguage:{\r\n      get(val){\r\n        return val\r\n      },\r\n      set(val){\r\n        this.fontFile = require('@/json/'+val+'_font.json')\r\n        this.sendFontFile()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    /*监听语言切换*/\r\n    this.setLanguage()\r\n    /*判断用户历史切换*/\r\n    var userLanguage = localStorage.getItem(\"UserLanguage\")?true:false\r\n    if (userLanguage){\r\n      this.fontlanguage = localStorage.getItem(\"UserLanguage\")\r\n    }\r\n  },\r\n  mounted(){\r\n    const _this = this\r\n    //监听window.body\r\n    window.onresize = () => {\r\n      _this.windowsWidth = document.body.clientWidth\r\n      this.sendWidnowWidth()\r\n    }\r\n    /*广播默认的语言*/\r\n    this.sendFontFile()\r\n  },\r\n  methods:{\r\n    /*\r\n    * 将使用的文字语言发送到Bus总线上\r\n    * */\r\n    sendFontFile(){\r\n      bus.emit('getFontFile',this.fontFile)\r\n    },\r\n    /*\r\n    * 接收语言切换方法\r\n    * */\r\n    setLanguage(){\r\n      const _this = this\r\n      bus.on('setLanguage',(val)=>{\r\n        _this.fontlanguage = val\r\n        localStorage.setItem(\"UserLanguage\",val)\r\n      })\r\n    },\r\n    /*\r\n    * 发送屏幕大小\r\n    * */\r\n    sendWidnowWidth(){\r\n      bus.emit('getWindwoWidth',this.windowsWidth)\r\n    },\r\n    /*\r\n    * 发送SmallView的显示与控制\r\n    * */\r\n    sendSmallView(val){\r\n      bus.emit('setSmallVirw',val)\r\n      this.smallView = !this.smallView\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"../less/main\";\r\n@media (min-width: 768px) {\r\n  .bi-three-dots-vertical:hover{\r\n    color: @hover-color;\r\n  }\r\n  .logoImg:hover{\r\n    transform: rotate(15deg);\r\n    filter: drop-shadow(0px 0px 5px @white);\r\n  }\r\n}\r\n#MyHeader{\r\n  .WebConfig(@row);\r\n  background-color:@bgColor_main;\r\n  padding: 0% 3%;\r\n  width: 94%;\r\n}\r\n.type-area{\r\n  .WebConfig(@row);\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  max-width: @Max-type-with;\r\n}\r\nh1{\r\n  color:@white ;\r\n}\r\n.logoImg{\r\n  width: @logoSize;\r\n  height: @logoSize;\r\n}\r\n.logoImg:active{\r\n  transform: rotate(-15deg);\r\n  filter: drop-shadow(0px 0px 5px @shadow-blue);\r\n}\r\n.bi-three-dots-vertical{\r\n  width: @three-dots-vertical-size;\r\n  height: @three-dots-vertical-size;\r\n  color: @white;\r\n}\r\n.bi-three-dots-vertical:active{\r\n  color: @active-color;\r\n  transition: all .1s ease-out;\r\n}\r\n.MaxMenu{\r\n  flex-grow: 2;\r\n}\r\n@media (max-width: 768px) {\r\n  .logoImg{\r\n    width: @logoSize-small;\r\n    height: @logoSize-small;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}