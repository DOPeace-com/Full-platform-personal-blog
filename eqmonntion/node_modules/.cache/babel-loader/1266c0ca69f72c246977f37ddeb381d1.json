{"ast":null,"code":"export default {\n  name: \"MySlid\",\n\n  data() {\n    return {\n      ok: false,\n      check: 0,\n      downX: 0,\n      moveX: 0,\n      boxWidth: 0\n    };\n  },\n\n  mounted() {\n    this.boxWidth = document.querySelector(\".box\").clientWidth;\n\n    const _this = this;\n\n    var box = document.getElementById(\"box\");\n    box.addEventListener(\"touchstart\", function () {\n      _this.onmousedown();\n    }, false);\n  },\n\n  methods: {\n    /*\r\n    * 鼠标按下事件\r\n    * */\n    onmousedown(e) {\n      var touch;\n\n      if (e.touches) {\n        touch = e.touches[0];\n      } else {\n        touch = e;\n      }\n\n      this.boxWidth = document.querySelector(\".box\").clientWidth;\n      this.downX = touch.clientX;\n    },\n\n    /*\r\n    * 松开鼠标\r\n    * */\n    onmouseup(val) {\n      this.downX = 0;\n      this.ok = val;\n    },\n\n    /*\r\n    * 鼠标移动事件\r\n    * */\n    onmousemove(e) {\n      var touch;\n\n      if (e.touches) {\n        touch = e.touches[0];\n      } else {\n        touch = e;\n      }\n\n      var move = touch.clientX - this.downX;\n      var c = this.boxWidth - 40 - move;\n\n      if (c <= 0 && this.check >= this.boxWidth - 60) {\n        this.onmouseup(true);\n        return;\n      }\n\n      if (!this.downX || move <= 0) {\n        this.onmouseup(false);\n        return;\n      }\n\n      this.moveX = move;\n      this.check = move;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAaA,eAAe;EACbA,IAAI,EAAE,QADO;;EAEbC,IAAI,GAAE;IACJ,OAAM;MACJC,EAAE,EAAC,KADC;MAEJC,KAAK,EAAE,CAFH;MAGJC,KAAI,EAAI,CAHJ;MAIJC,KAAI,EAAI,CAJJ;MAKJC,QAAO,EAAI;IALP,CAAN;EAOD,CAVY;;EAWbC,OAAO,GAAG;IACR,KAAKD,QAAL,GAAgBE,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,WAA/C;;IACA,MAAMC,KAAI,GAAI,IAAd;;IACA,IAAIC,GAAE,GAAIJ,QAAQ,CAACK,cAAT,CAAwB,KAAxB,CAAV;IACAD,GAAG,CAACE,gBAAJ,CAAqB,YAArB,EAAkC,YAAU;MAC1CH,KAAK,CAACI,WAAN;IACD,CAFD,EAEE,KAFF;EAGD,CAlBY;;EAmBbC,OAAO,EAAC;IACN;;;IAGAD,WAAW,CAACE,CAAD,EAAG;MACZ,IAAIC,KAAJ;;MACA,IAAGD,CAAC,CAACE,OAAL,EAAa;QACRD,KAAI,GAAID,CAAC,CAACE,OAAF,CAAU,CAAV,CAAR;MACH,CAFF,MAEO;QACFD,KAAI,GAAID,CAAR;MACJ;;MACD,KAAKX,QAAL,GAAgBE,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,WAA/C;MACA,KAAKN,KAAL,GAAac,KAAK,CAACE,OAAnB;IACD,CAbK;;IAcN;;;IAGAC,SAAS,CAACC,GAAD,EAAK;MACZ,KAAKlB,KAAL,GAAa,CAAb;MACA,KAAKF,EAAL,GAAUoB,GAAV;IACD,CApBK;;IAqBN;;;IAGAC,WAAW,CAACN,CAAD,EAAG;MACZ,IAAIC,KAAJ;;MACA,IAAGD,CAAC,CAACE,OAAL,EAAa;QACXD,KAAI,GAAID,CAAC,CAACE,OAAF,CAAU,CAAV,CAAR;MACD,CAFD,MAEM;QACJD,KAAI,GAAID,CAAR;MACF;;MACA,IAAIO,IAAG,GAAIN,KAAK,CAACE,OAAN,GAAc,KAAKhB,KAA9B;MACA,IAAIqB,IAAI,KAAKnB,QAAL,GAAc,EAAd,GAAiBkB,IAAzB;;MACA,IAAIC,CAAC,IAAE,CAAH,IAAQ,KAAKtB,KAAL,IAAY,KAAKG,QAAL,GAAc,EAAtC,EAAyC;QACvC,KAAKe,SAAL,CAAe,IAAf;QACA;MACF;;MACA,IAAI,CAAC,KAAKjB,KAAN,IAAeoB,IAAI,IAAE,CAAzB,EAA2B;QACzB,KAAKH,SAAL,CAAe,KAAf;QACA;MACF;;MACA,KAAKhB,KAAL,GAAamB,IAAb;MACA,KAAKrB,KAAL,GAAaqB,IAAb;IACF;;EA3CM;AAnBK,CAAf","names":["name","data","ok","check","downX","moveX","boxWidth","mounted","document","querySelector","clientWidth","_this","box","getElementById","addEventListener","onmousedown","methods","e","touch","touches","clientX","onmouseup","val","onmousemove","move","c"],"sourceRoot":"","sources":["C:\\Users\\章和平\\Documents\\DOP\\myWeb\\eqmonntion\\src\\components\\mysliding\\MySlid.vue"],"sourcesContent":["<template>\r\n  <div id class=\"box\" @mousemove=\"onmousemove($event)\">\r\n    <!--滑块-->\r\n    <div id=\"bt\" :class=\"ok?'okcl':'btn'\" :style=\"'left:' +moveX+'px'\" @mousedown=\"onmousedown($event)\"  @mouseup=\"onmouseup()\">&gt;&gt;</div>\r\n    <!--文字-->\r\n    <span class=\"text\">请向右滑动滑块</span>\r\n    <!--背景-->\r\n    <div class=\"bg\" :style=\"'width:'+moveX+'px'\"></div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MySlid\",\r\n  data(){\r\n    return{\r\n      ok:false,\r\n      check: 0 ,\r\n      downX : 0,\r\n      moveX : 0,\r\n      boxWidth : 0\r\n    }\r\n  },\r\n  mounted() {\r\n    this.boxWidth = document.querySelector(\".box\").clientWidth\r\n    const _this = this\r\n    var box = document.getElementById(\"box\")\r\n    box.addEventListener(\"touchstart\",function(){\r\n      _this.onmousedown()\r\n    },false)\r\n  },\r\n  methods:{\r\n    /*\r\n    * 鼠标按下事件\r\n    * */\r\n    onmousedown(e){\r\n      var touch ;\r\n      if(e.touches){\r\n           touch = e.touches[0];\r\n       }else {\r\n           touch = e;\r\n       }\r\n      this.boxWidth = document.querySelector(\".box\").clientWidth\r\n      this.downX = touch.clientX\r\n    },\r\n    /*\r\n    * 松开鼠标\r\n    * */\r\n    onmouseup(val){\r\n      this.downX = 0;\r\n      this.ok = val\r\n    },\r\n    /*\r\n    * 鼠标移动事件\r\n    * */\r\n    onmousemove(e){\r\n      var touch ;\r\n      if(e.touches){\r\n        touch = e.touches[0];\r\n      }else {\r\n        touch = e;\r\n      }\r\n      var move = touch.clientX-this.downX;\r\n      var c = this.boxWidth-40-move\r\n      if (c<=0 && this.check>=this.boxWidth-60){\r\n        this.onmouseup(true)\r\n        return;\r\n      }\r\n      if (!this.downX || move<=0){\r\n        this.onmouseup(false)\r\n        return;\r\n      }\r\n      this.moveX = move\r\n      this.check = move\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"src/less/main\";\r\n.okcl{\r\n  position: absolute;\r\n  width: 40px;\r\n  height: 32px;\r\n  z-index: 3;\r\n  color: @white;\r\n  border: 1px #2ac845 solid;\r\n  background-color: #2ac845;\r\n}\r\n.box{\r\n  position: relative;\r\n  height: 34px;\r\n  text-align: center;\r\n  background-color: #eeeeee;\r\n}\r\n.btn{\r\n  position: absolute;\r\n  width: 40px;\r\n  height: 32px;\r\n  z-index: 3;\r\n  background-color:@white;\r\n  border: 1px @shadow solid;\r\n}\r\n.text{\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n.bg{\r\n  position: absolute;\r\n  top: 0;\r\n  z-index: 1;\r\n  width: 200px;\r\n  height: 34px;\r\n  background-color: @bgColor_main;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}