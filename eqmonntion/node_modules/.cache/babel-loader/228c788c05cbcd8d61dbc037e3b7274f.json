{"ast":null,"code":"import bus from '@/util/Bus';\nimport axios from 'axios'; //引入自己制作的滑块\n\nimport MySlid from \"@/components/mysliding/MySlid\";\nexport default {\n  name: \"LogIn\",\n  components: {\n    MySlid\n  },\n\n  /**\r\n   * 返回的数据用于软件的登录信息管理\r\n   * remember:用于记录是否存储用户密码\r\n   * checked：保持用户登录，而不需要每次都查询用户数据库，减少用户名密码被劫持的风险\r\n   * @returns {{remember: string, password: string, checked: string, username: string}}\r\n   */\n  data() {\n    return {\n      fontFile: require('@/json/zh-CN_font.json'),\n      windowsWidth: document.body.clientWidth,\n      username: \"\",\n      password: \"\",\n      securitycode: \"\",\n      remember: \"\",\n      checked: \"\"\n    };\n  },\n\n  mounted() {\n    window.onresize = () => {\n      console.log(document.body.clientWidth);\n    };\n\n    this.acceptFontFile();\n    this.setsecuritycode();\n  },\n\n  methods: {\n    /*\r\n    * 获取页面FontFild\r\n    * */\n    acceptFontFile() {\n      bus.on(\"getFontFile\", val => {\n        this.fontFile = val;\n      });\n    },\n\n    /*\r\n    * 清除输入内容\r\n    * */\n    clearData() {\n      this.username = \"\";\n      this.password = \"\";\n      this.securitycode = \"\";\n    },\n\n    /*\r\n    * 验证成功\r\n    * */\n    setsecuritycode() {\n      bus.on(\"security\", val => {\n        this.securitycode = val;\n      });\n    },\n\n    /*\r\n    * 登录请求axios\r\n    * */\n    loginmethods() {\n      axios.get(\"/api/login?userid=\" + this.username + \"&userpassword=\" + this.password).then(resp => {\n        console.log(resp.data.user_phonenum);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiCA,OAAOA,GAAP,MAAgB,YAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,eAAe;EACbC,IAAI,EAAE,OADO;EAEbC,UAAU,EAAC;IAACF;EAAD,CAFE;;EAGb;;;;;;EAMAG,IAAI,GAAE;IACJ,OAAM;MACJC,QAAQ,EAACC,OAAO,CAAC,wBAAD,CADZ;MAEJC,YAAY,EAACC,QAAQ,CAACC,IAAT,CAAcC,WAFvB;MAGJC,QAAQ,EAAC,EAHL;MAIJC,QAAQ,EAAC,EAJL;MAKJC,YAAY,EAAC,EALT;MAMJC,QAAQ,EAAC,EANL;MAOJC,OAAO,EAAC;IAPJ,CAAN;EASD,CAnBY;;EAoBbC,OAAO,GAAG;IACRC,MAAM,CAACC,QAAP,GAAkB,MAAK;MACrBC,OAAO,CAACC,GAAR,CAAYZ,QAAQ,CAACC,IAAT,CAAcC,WAA1B;IACF,CAFA;;IAGA,KAAKW,cAAL;IACA,KAAKC,eAAL;EACD,CA1BY;;EA2BbC,OAAO,EAAC;IACN;;;IAGAF,cAAc,GAAG;MACftB,GAAG,CAACyB,EAAJ,CAAO,aAAP,EAAuBC,GAAD,IAAS;QAC7B,KAAKpB,QAAL,GAAgBoB,GAAhB;MACD,CAFD;IAGD,CARK;;IASN;;;IAGAC,SAAS,GAAE;MACT,KAAKf,QAAL,GAAc,EAAd;MACA,KAAKC,QAAL,GAAc,EAAd;MACA,KAAKC,YAAL,GAAkB,EAAlB;IACD,CAhBK;;IAiBN;;;IAGAS,eAAe,GAAE;MACfvB,GAAG,CAACyB,EAAJ,CAAO,UAAP,EAAmBC,GAAD,IAAO;QACvB,KAAKZ,YAAL,GAAoBY,GAApB;MACD,CAFD;IAGD,CAxBK;;IAyBN;;;IAGAE,YAAY,GAAE;MACZ3B,KAAK,CAAC4B,GAAN,CAAU,uBAAqB,KAAKjB,QAA1B,GAAmC,gBAAnC,GAAoD,KAAKC,QAAnE,EAA6EiB,IAA7E,CAAmFC,IAAD,IAAQ;QACxFX,OAAO,CAACC,GAAR,CAAYU,IAAI,CAAC1B,IAAL,CAAU2B,aAAtB;MACD,CAFD;IAGF;;EAhCM;AA3BK,CAAf","names":["bus","axios","MySlid","name","components","data","fontFile","require","windowsWidth","document","body","clientWidth","username","password","securitycode","remember","checked","mounted","window","onresize","console","log","acceptFontFile","setsecuritycode","methods","on","val","clearData","loginmethods","get","then","resp","user_phonenum"],"sourceRoot":"","sources":["C:\\Users\\章和平\\Documents\\DOP\\myWeb\\eqmonntion\\src\\components\\login\\PeaceWebLogIn.vue"],"sourcesContent":["<template>\r\n  <div class=\"loginPageBox\">\r\n    <div class=\"Box\">\r\n      <div class=\"BoxLeft\" v-if=\"windowsWidth>768\">\r\n        <img src=\"../../assets/logo.png\">\r\n        <h1>{{fontFile.WebName}}</h1>\r\n      </div>\r\n      <div class=\"BoxRight\">\r\n        <form>\r\n          <ul>\r\n            <li>\r\n              <span>{{fontFile.loginPage.userid}}:</span>\r\n              <input type=\"text\" :placeholder=\"fontFile.loginPage.userid\" v-model=\"username\">\r\n            </li>\r\n            <li>\r\n              <span>{{fontFile.loginPage.password}}:</span>\r\n              <input type=\"password\" :placeholder=\"fontFile.loginPage.password\" v-model=\"password\">\r\n            </li>\r\n            <li>\r\n            <!--滑块验证-->\r\n            <MySlid/>\r\n            </li>\r\n          </ul>\r\n          <button type=\"button\" @click=\"loginmethods\">{{fontFile.loginPage.submit}}</button>\r\n          <br/>\r\n          <button type=\"reset\" @click=\"clearData\">{{fontFile.loginPage.reset}}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/util/Bus'\r\nimport axios from 'axios'\r\n//引入自己制作的滑块\r\nimport MySlid from \"@/components/mysliding/MySlid\";\r\nexport default {\r\n  name: \"LogIn\",\r\n  components:{MySlid},\r\n  /**\r\n   * 返回的数据用于软件的登录信息管理\r\n   * remember:用于记录是否存储用户密码\r\n   * checked：保持用户登录，而不需要每次都查询用户数据库，减少用户名密码被劫持的风险\r\n   * @returns {{remember: string, password: string, checked: string, username: string}}\r\n   */\r\n  data(){\r\n    return{\r\n      fontFile:require('@/json/zh-CN_font.json'),\r\n      windowsWidth:document.body.clientWidth,\r\n      username:\"\",\r\n      password:\"\",\r\n      securitycode:\"\",\r\n      remember:\"\",\r\n      checked:\"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    window.onresize = () =>{\r\n      console.log(document.body.clientWidth)\r\n    }\r\n    this.acceptFontFile()\r\n    this.setsecuritycode()\r\n  },\r\n  methods:{\r\n    /*\r\n    * 获取页面FontFild\r\n    * */\r\n    acceptFontFile() {\r\n      bus.on(\"getFontFile\", (val) => {\r\n        this.fontFile = val\r\n      })\r\n    },\r\n    /*\r\n    * 清除输入内容\r\n    * */\r\n    clearData(){\r\n      this.username=\"\"\r\n      this.password=\"\"\r\n      this.securitycode=\"\"\r\n    },\r\n    /*\r\n    * 验证成功\r\n    * */\r\n    setsecuritycode(){\r\n      bus.on(\"security\",(val)=>{\r\n        this.securitycode = val\r\n      })\r\n    },\r\n    /*\r\n    * 登录请求axios\r\n    * */\r\n    loginmethods(){\r\n      axios.get(\"/api/login?userid=\"+this.username+\"&userpassword=\"+this.password).then((resp)=>{\r\n        console.log(resp.data.user_phonenum)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import \"src/less/main\";\r\nbody{\r\n  background-color: @bgColor_main;\r\n}\r\n.loginPageBox{\r\n  position: absolute;\r\n  .WebFlex(@column,center,center);\r\n  width: 100%;\r\n  height: calc(100vh - @logoSize);\r\n  top: @logoSize;\r\n  background-image: linear-gradient( @bgColor_main, @shadow-blue);\r\n}\r\n.Box{\r\n  .WebFlex(@row,flex-start,center);\r\n  background-color: @white;\r\n  border-radius: 8px;\r\n  box-shadow: 0px 0px 30px @shadow-blue;\r\n  overflow: hidden;\r\n}\r\n.BoxLeft{\r\n  .WebFlex(@column,center,center);\r\n  img{\r\n    width: @logoSize*3;\r\n    margin: 5px;\r\n  }\r\n  color: @white;\r\n  padding: 50px 10px;\r\n  background-color: @bgColor_main;\r\n}\r\n.BoxRight{\r\n  .WebFlex(@column,center,center);\r\n  margin: 50px;\r\n  li{\r\n    line-height: 30px;\r\n    span{\r\n      padding-right: 10px;\r\n    }\r\n  }\r\n  ul{\r\n    margin-bottom: 30px;\r\n  }\r\n  input{\r\n    outline:none;\r\n    border: 0px;\r\n    border-bottom: 1px solid @shadow;\r\n  }\r\n}\r\n@media (max-width: 768px) {\r\n  .loginPageBox{\r\n    height: calc(100vh - @logoSize-small);\r\n    top: @logoSize-small;\r\n  }\r\n  .Box{\r\n    width: 90%;\r\n  }\r\n  .BoxRight{\r\n    .WebFlex(@column,center,center);\r\n    width: 100%;\r\n    margin: 10px;\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}